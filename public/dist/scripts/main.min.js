function faceted(t){var a=$("#filterWrapper").attr("data-token"),e=$("#search").val(),n=$("#status").val(),i=$("#sorting").val(),r=$("#qty").val();xhr=$.ajax({url:"filter",data:{_token:a,search:e,page:t,qty:r,status:n,sorting:i},type:"get",beforeSend:function(){$("#result").html('<img src="../../image/spinner.gif" alt="" class="spinner"/>')}}).done(function(t){$data=$(t),$("#result").html($data),i&&($opt=i.split("."),$("."+$opt[1]).hasClass("hiddenSortingVal")&&$("."+$opt[1]).css("display","flex"))})}$(window).on("load",faceted());var xhr=new XMLHttpRequest;$("#search").keyup(function(){faceted()}),$(document).on("click",".btn-favorite",function(t){t.preventDefault();var a=$(this),e=$("#filterWrapper").attr("data-token"),n=a.attr("data-name"),i=1;a.hasClass("btn-favorite--is-active")&&(i=0),xhr=$.ajax({url:"favorite",data:{_token:e,name:n,action:i},type:"post",beforeSend:function(){}}).done(function(t){$data=$(t),0==i?a.removeClass("btn-favorite--is-active"):a.addClass("btn-favorite--is-active")})}),$("#sorting,#status,#qty").on("change",function(){faceted()}),$(document).on("click",".pagination a",function(t){t.preventDefault();var a=$(this).attr("href"),e=a.split("page=")[1];window.history.pushState("","",a),faceted(e)});