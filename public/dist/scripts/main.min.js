function faceted(t){var a=$("#filterWrapper").attr("data-url"),e=$("#filterWrapper").attr("data-token"),n=$("#search").val(),r=$("#status").val(),i=$("#sorting").val(),o=$("#qty").val();xhr=$.ajax({url:"filter",data:{_token:e,search:n,page:t,qty:o,status:r,sorting:i},type:"get",beforeSend:function(){$("#result").html('<img src="'+a+'/image/spinner.gif" alt="" class="spinner"/>')}}).done(function(t){$data=$(t),$("#result").html($data),i&&($opt=i.split("."),$("."+$opt[1]).hasClass("hiddenSortingVal")&&$("."+$opt[1]).css("display","flex"))})}$(window).on("load",faceted());var xhr=new XMLHttpRequest;$("#search").keyup(function(){faceted()}),$(document).on("click",".btn-favorite",function(t){t.preventDefault();var a=$(this),e=$("#filterWrapper").attr("data-token"),n=a.attr("data-name"),r=1;a.hasClass("btn-favorite--is-active")&&(r=0),xhr=$.ajax({url:"favorite",data:{_token:e,name:n,action:r},type:"post",beforeSend:function(){}}).done(function(t){$data=$(t),0==r?a.removeClass("btn-favorite--is-active"):a.addClass("btn-favorite--is-active")})}),$("#sorting,#status,#qty").on("change",function(){faceted()}),$(document).on("click",".pagination a",function(t){t.preventDefault();var a=$(this).attr("href"),e=a.split("page=")[1];window.history.pushState("","",a),faceted(e)});